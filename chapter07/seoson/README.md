## 7장 상태관리

프론트엔드, 더 나아가 모든 종류의 클라이언트 어플리케이션에서 효과적인 데이터 관리 방법을 **상태관리** 라고 한다. <br/>
상태관리는 새로운 문제를 해결하지 못한다. <br/>
7장에서는 상태관리 전략을 구축하고 분석해본다 <br/>

## 🏛️ MVC패턴 고전화

![title](data:image/png;base64,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) MVC패턴 스키마 <br/>

1. 컨트롤러는 모델에서 초기 상태를 가져온다.
2. 컨트롤러는 뷰를 호출해 초기 상태를 렌더링한다.
3. 시스템이 사용자 입력을 받을 준비가 된다.
4. 사용자가 어떤 동작을 수행한다. (ex 항목추가)
5. 컨트롤러는 올바른 Model메서드(add)로 사용자의 동작과 매핑한다.
6. 모델이 상태를 업데이트한다.
7. 컨트롤러는 모델에서 새로운 상태를 얻는다.
8. 컨트롤러는 뷰를 호출해 새로운 상태를 렌더링한다.
9. 시스템이 사용자 입력을 받을 준비가 됐다. <br/>

대부분의 프론트엔드 어플리케이션이 해당 워크플로를 따른다. <br/>

## 🔭 옵저버블 모델

MVC 기반의 상태관리 코드는 사용자가 동작을 수행할 때마다 render메서드를 **수동**으로 호출해야 한다. <br/>
해당 방식은 두가지 문제가 있다. <br/>

1. 상태 변경 후에 렌더링을 수동으로 호출하는 방법은 오류가 발생하기 쉬운 접근이다.
2. 동작이 상태를 변경하지 않을 때에도 render 메서드가 호출된다. <br/>

이들 문제는 **관찰자패턴**을 기반으로하는 모델에서 해결된다. <br/>
